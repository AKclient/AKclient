local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:FindFirstChild("Humanoid")
local userInputService = game:GetService("UserInputService")
local tweenService = game:GetService("TweenService")
local runService = game:GetService("RunService")

-- Screen GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.Name = "AkClientUI"
screenGui.ResetOnSpawn = false

-- Opening Animation Frame
local introFrame = Instance.new("Frame")
introFrame.Size = UDim2.new(1, 0, 1, 0)
introFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
introFrame.BorderSizePixel = 0
introFrame.Parent = screenGui

local introText = Instance.new("TextLabel")
introText.Size = UDim2.new(0.4, 0, 0.1, 0)
introText.Position = UDim2.new(0.3, 0, 0.45, 0)
introText.Text = "AkClient"
introText.TextColor3 = Color3.fromRGB(128, 0, 255)
introText.Font = Enum.Font.GothamBlack
introText.TextScaled = true
introText.BackgroundTransparency = 1
introText.Parent = introFrame

-- Fade-out Animation
task.spawn(function()
    wait(1.5)
    tweenService:Create(introFrame, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
    tweenService:Create(introText, TweenInfo.new(1), {TextTransparency = 1}):Play()
    wait(1)
    introFrame:Destroy()
end)

-- Main UI Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 450, 0, 300)
mainFrame.Position = UDim2.new(0.5, -225, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Smooth Dragging
local dragging, dragInput, dragStart, startPos
mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

runService.RenderStepped:Connect(function()
    if dragging and dragInput then
        local delta = dragInput.Position - dragStart
        local newPosition = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        mainFrame.Position = mainFrame.Position:Lerp(newPosition, 0.15) -- Smooth dragging effect
    end
end)

-- UI Stroke (Purple Glow)
local glow = Instance.new("UIStroke")
glow.Parent = mainFrame
glow.Thickness = 3
glow.Color = Color3.fromRGB(128, 0, 255)
glow.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Side Navigation Panel
local sidePanel = Instance.new("Frame")
sidePanel.Size = UDim2.new(0, 100, 1, 0)
sidePanel.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
sidePanel.BorderSizePixel = 0
sidePanel.Parent = mainFrame

local function createButton(name, posY)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 35)
    button.Position = UDim2.new(0, 0, 0, posY)
    button.Text = name
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.BorderSizePixel = 0
    button.Parent = sidePanel

    return button
end

local homeButton = createButton("Home", 10)
local movementButton = createButton("Movement", 50)
local gameButton = createButton("Game", 90)

-- Content Frames
local homeFrame = Instance.new("Frame")
homeFrame.Size = UDim2.new(1, -100, 1, 0)
homeFrame.Position = UDim2.new(0, 100, 0, 0)
homeFrame.BackgroundTransparency = 1
homeFrame.Parent = mainFrame

local movementFrame = Instance.new("Frame")
movementFrame.Size = UDim2.new(1, -100, 1, 0)
movementFrame.Position = UDim2.new(0, 100, 0, 0)
movementFrame.BackgroundTransparency = 1
movementFrame.Visible = false
movementFrame.Parent = mainFrame

local gameFrame = Instance.new("Frame")
gameFrame.Size = UDim2.new(1, -100, 1, 0)
gameFrame.Position = UDim2.new(0, 100, 0, 0)
gameFrame.BackgroundTransparency = 1
gameFrame.Visible = false
gameFrame.Parent = mainFrame

-- Page Switch Function
local function showPage(page)
    homeFrame.Visible = (page == "Home")
    movementFrame.Visible = (page == "Movement")
    gameFrame.Visible = (page == "Game")
end

homeButton.MouseButton1Click:Connect(function() showPage("Home") end)
movementButton.MouseButton1Click:Connect(function() showPage("Movement") end)
gameButton.MouseButton1Click:Connect(function() showPage("Game") end)

-- Auto-Reexecution on Death
local function onCharacterAdded(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")

    wait(1) -- Short delay before re-executing
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AKclient/AKclient/main/AKclientMainV1.0"))()
end

player.CharacterAdded:Connect(onCharacterAdded)

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.Text = "X"
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 14
closeButton.BorderSizePixel = 0
closeButton.Parent = mainFrame

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)